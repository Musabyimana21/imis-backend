================================================================================
POSTMAN TEST RESULTS - MTN MOMO API
================================================================================
Merchant: IMS.SP (250796888309)
Date: 2025-12-13
Reference ID: 68d9495b-6050-468e-b03c-419e9c9bbcfe
================================================================================

TEST 1: GET ACCESS TOKEN
================================================================================

POST https://proxy.momoapi.mtn.co.rw/collection/token/

Headers:
Ocp-Apim-Subscription-Key: 92e0ee9794d34ac8bb166d2cd3b99a69
Authorization: Basic MjRhMTRkN2ItNTdiMi00NmE2LWJhNWMtNGMxN2Y2MjhlYjllOjJhYzkzYzNmNjAzMDRmZGFhNmY5YWQyZjU5MWYwODM0

Body: none

---RESPONSE---
Status: 200 OK
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSMjU2In0.eyJjbGllbnRJZCI6IjI0YTE0ZDdiLTU3YjItNDZhNi1iYTVjLTRjMTdmNjI4ZWI5ZSIsImV4cGlyZXMiOiIyMDI1LTEyLTEzVDEyOjIxOjAwLjQyNzEyOTciLCJzZXNzaW9uSWQiOiI5YzBlZDI1OC1jNGUzLTQ4ZTgtOTQ1OS03YzljOGE3N2Y3NWUifQ.Pscg790m3PK4yqks6ycyGQH1ykGXt6nxqP_Fk9R9YNbOVhu5rTPywkrXncpb1rtQ3WAafElhI_36c6BwNjwkZd_XKShC_lMK7LOwWxo9K4Jl86i09nBNnYnhcKOvXLlAsOled2_Rvx8GF04GhRNCY1uN3R7zsl_EGrt6AtwbIhkWqwTPGA8QgPL1y8fIfahJwIN-5L470ELtYQsOWUQPBUJwQTvb7Ua5okDUwdILXEH2AVMsHI8BcKBozWQvuQ1r1xFpZkf4VFAA6vL2Jo_AHQalTIIu-2ioXsKq-akwd0RygFE3Byz3HbR2M9loqQZMnNrV43iWFzSGjIW1-VZ5zQ",
  "token_type": "access_token",
  "expires_in": 3600
}

Result: ✅ SUCCESS

================================================================================
TEST 2: REQUEST TO PAY
================================================================================

POST https://proxy.momoapi.mtn.co.rw/collection/v1_0/requesttopay

Headers:
X-Reference-Id: 68d9495b-6050-468e-b03c-419e9c9bbcfe
X-Target-Environment: mtnrwanda
Ocp-Apim-Subscription-Key: 92e0ee9794d34ac8bb166d2cd3b99a69
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSMjU2In0.eyJjbGllbnRJZCI6IjI0YTE0ZDdiLTU3YjItNDZhNi1iYTVjLTRjMTdmNjI4ZWI5ZSIsImV4cGlyZXMiOiIyMDI1LTEyLTEzVDEyOjIxOjAwLjQyNzEyOTciLCJzZXNzaW9uSWQiOiI5YzBlZDI1OC1jNGUzLTQ4ZTgtOTQ1OS03YzljOGE3N2Y3NWUifQ.Pscg790m3PK4yqks6ycyGQH1ykGXt6nxqP_Fk9R9YNbOVhu5rTPywkrXncpb1rtQ3WAafElhI_36c6BwNjwkZd_XKShC_lMK7LOwWxo9K4Jl86i09nBNnYnhcKOvXLlAsOled2_Rvx8GF04GhRNCY1uN3R7zsl_EGrt6AtwbIhkWqwTPGA8QgPL1y8fIfahJwIN-5L470ELtYQsOWUQPBUJwQTvb7Ua5okDUwdILXEH2AVMsHI8BcKBozWQvuQ1r1xFpZkf4VFAA6vL2Jo_AHQalTIIu-2ioXsKq-akwd0RygFE3Byz3HbR2M9loqQZMnNrV43iWFzSGjIW1-VZ5zQ
Content-Type: application/json

Body (raw JSON):
{
  "amount": "1000",
  "currency": "RWF",
  "externalId": "IMIS_8F40A540",
  "payer": {
    "partyIdType": "MSISDN",
    "partyId": "250796014801"
  },
  "payerMessage": "IMIS Contact Unlock Payment",
  "payeeNote": "Payment for contact information"
}

---RESPONSE---
Status: 202 Accepted
Body: (Empty)

Result: ✅ REQUEST ACCEPTED

================================================================================
TEST 3: CHECK PAYMENT STATUS
================================================================================

GET https://proxy.momoapi.mtn.co.rw/collection/v1_0/requesttopay/68d9495b-6050-468e-b03c-419e9c9bbcfe

Headers:
X-Target-Environment: mtnrwanda
Ocp-Apim-Subscription-Key: 92e0ee9794d34ac8bb166d2cd3b99a69
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSMjU2In0.eyJjbGllbnRJZCI6IjI0YTE0ZDdiLTU3YjItNDZhNi1iYTVjLTRjMTdmNjI4ZWI5ZSIsImV4cGlyZXMiOiIyMDI1LTEyLTEzVDEyOjIxOjAwLjQyNzEyOTciLCJzZXNzaW9uSWQiOiI5YzBlZDI1OC1jNGUzLTQ4ZTgtOTQ1OS03YzljOGE3N2Y3NWUifQ.Pscg790m3PK4yqks6ycyGQH1ykGXt6nxqP_Fk9R9YNbOVhu5rTPywkrXncpb1rtQ3WAafElhI_36c6BwNjwkZd_XKShC_lMK7LOwWxo9K4Jl86i09nBNnYnhcKOvXLlAsOled2_Rvx8GF04GhRNCY1uN3R7zsl_EGrt6AtwbIhkWqwTPGA8QgPL1y8fIfahJwIN-5L470ELtYQsOWUQPBUJwQTvb7Ua5okDUwdILXEH2AVMsHI8BcKBozWQvuQ1r1xFpZkf4VFAA6vL2Jo_AHQalTIIu-2ioXsKq-akwd0RygFE3Byz3HbR2M9loqQZMnNrV43iWFzSGjIW1-VZ5zQ

Body: none

---RESPONSE---
Status: 200 OK
{
  "externalId": "IMIS_8F40A540",
  "amount": "1000",
  "currency": "RWF",
  "payer": {
    "partyIdType": "MSISDN",
    "partyId": "250796014801"
  },
  "payerMessage": "IMIS Contact Unlock Payment",
  "payeeNote": "Payment for contact information",
  "status": "FAILED",
  "reason": "INTERNAL_PROCESSING_ERROR"
}

Result: ❌ PAYMENT FAILED

================================================================================
SUMMARY
================================================================================

Reference ID: 68d9495b-6050-468e-b03c-419e9c9bbcfe
Phone: 250796014801
Amount: 1000 RWF

Test 1: Token ✅ SUCCESS (200)
Test 2: RequestToPay ✅ ACCEPTED (202)
Test 3: Status ❌ FAILED (INTERNAL_PROCESSING_ERROR)

Phone 250796014801 received NO popup/SMS

Issue: MTN backend fails to process payment after accepting request

================================================================================
